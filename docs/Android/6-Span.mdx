---
sidebar_position: 6
id: android-6
title: Span
---

## Spançš„ç±»å‹ä¸ç”¨æ³•

`Span` æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ ‡è®°å¯¹è±¡ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²æˆ–è€…æ®µè½ä¹‹é—´è®¾ç½®æ–‡æœ¬çš„æ ·å¼ï¼Œ
é€šè¿‡ `Span`ï¼Œå¯ä»¥æ”¹å˜æ–‡æœ¬çš„é¢œè‰²ã€ç‚¹å‡»ã€ç¼©æ”¾ç­‰ç­‰ã€‚ä½¿ç”¨ `Span`ï¼Œéœ€è¦å…ˆç”¨ä¸‹é¢ 3 ä¸ªä¹‹ä¸€çš„ç±»æ¥åŒ…è£…å­—ç¬¦ä¸²ï¼š


ç±» | å¯å˜æ–‡æœ¬ | å¯å˜æ ‡è®°-  |  æ•°æ®ç»“æ„  
| ----------- | ----------- |----------- |----------- |
SpannedString | ä¸æ”¯æŒ | ä¸æ”¯æŒ | çº¿æ€§æ•°ç»„ 
SpannableString | ä¸æ”¯æŒ | æ˜¯ | çº¿æ€§æ•°ç»„
SpannableStringBuilder | æ˜¯ | æ˜¯ | åŒºé—´æ ‘

**å¦‚ä½•é€‰æ‹©**

ä¸‰ä¸ªç±»éƒ½æ‰©å±•äº† `Spanned` æ¥å£ã€‚`SpannableString` å’Œ `SpannableStringBuilder` è¿˜ä¼šæ‰©å±• `Spannable` æ¥å£ï¼š

1. ä¸å‡†å¤‡åœ¨åˆ›å»ºåä¿®æ”¹æ–‡æœ¬æˆ–æ ‡è®°ï¼Œä½¿ç”¨ `SpannedString`

2. éœ€è¦å°†å°‘é‡ `span`ï¼ˆ10 ä¸ªä»¥å†…ï¼‰é™„åŠ åˆ°å•ä¸ªæ–‡æœ¬å¯¹è±¡ï¼Œå¹¶ä¸”æ–‡æœ¬æœ¬èº«ä¸ºåªè¯»ï¼Œä½¿ç”¨ `SpannableString`

3. éœ€è¦åœ¨åˆ›å»ºåä¿®æ”¹æ–‡æœ¬ï¼Œå¹¶ä¸”éœ€è¦å°† `span` é™„åŠ åˆ°æ–‡æœ¬ï¼Œä½¿ç”¨ `SpannableStringBuilder` 

4. éœ€è¦å°†å¤§é‡ `span`ï¼ˆ10 ä¸ªä»¥ä¸Šï¼‰é™„åŠ åˆ°æ–‡æœ¬å¯¹è±¡ï¼ˆæ— è®ºæ–‡æœ¬æœ¬èº«æ˜¯å¦ä¸ºåªè¯»ï¼‰ï¼Œä½¿ç”¨ `SpannableStringBuilder`


### setSpan ä¸­çš„ç¬¬å››ä¸ªå‚æ•°ï¼ˆæ‰©å±•ï¼‰

**ç¬¬å››ä¸ªå‚æ•°å¯ä»¥ç”¨æ¥æŒ‡å®šç¬¬ 2ã€3 ä¸ªå‚æ•°çš„ä½œç”¨èŒƒå›´ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸‹é¢å‡ ä¸ªå€¼ï¼š**

1. Spanned.SPAN_EXCLUSIVE_EXCLUSIVEï¼šå‰åéƒ½ä¸åŒ…æ‹¬

2. Spanned.SPAN_EXCLUSIVE_INCLUSIVEï¼šå‰é¢ä¸åŒ…æ‹¬ï¼Œåé¢åŒ…æ‹¬

3. Spanned.SPAN_INCLUSIVE_EXCLUSIVEï¼šå‰é¢åŒ…æ‹¬ï¼Œåé¢ä¸åŒ…æ‹¬

4. Spanned.SPAN_INCLUSIVE_INCLUSIVEï¼šå‰åéƒ½åŒ…æ‹¬

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:gravity="center"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".SpanActivity">

    <TextView
        android:id="@+id/tv_span"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />


</LinearLayout>
```

```Java
package com.example.testjava1;

import android.graphics.Color;
import android.os.Bundle;
import android.text.SpannableStringBuilder;
import android.text.Spanned;
import android.text.style.ForegroundColorSpan;
import android.view.View;
import android.widget.TextView;

import androidx.activity.EdgeToEdge;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;

public class SpanActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_span);

        TextView textView = findViewById(R.id.tv_span);

        String txt = "ä½ å¥½ä¸–ç•Œ";
        SpannableStringBuilder stringBuilder = new SpannableStringBuilder(txt);

        stringBuilder.setSpan(new ForegroundColorSpan(Color.RED), 2, 4, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);

        textView.setText(stringBuilder);

        textView.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                stringBuilder.insert(4, " HELLO WORLD");
                stringBuilder.setSpan(new ForegroundColorSpan(Color.GREEN), 6, 10, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
                // æ”¾å¤§
                stringBuilder.setSpan(new RelativeSizeSpan(1.5f), 5, 10, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
                // ç«–çº¿
                stringBuilder.setSpan(new QuoteSpan(Color.BLUE), 0, 10, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
                textView.setText(stringBuilder);
            }
        });
    }
}
```


### å¸¸è§çš„ Span æ ·å¼

- BackgroundColorSpanï¼šç»™éƒ¨åˆ†æ–‡å­—è®¾ç½®èƒŒæ™¯é¢œè‰²ã€‚

- ForegroundColorSpanï¼šç»™éƒ¨åˆ†æ–‡å­—è®¾ç½®å‰æ™¯è‰²ï¼ˆæ–‡æœ¬é¢œè‰²ï¼‰ã€‚

- UnderlineSpanï¼šç»™éƒ¨åˆ†æ–‡å­—æ·»åŠ ä¸‹åˆ’çº¿ã€‚

- StrikethroughSpanï¼šç»™éƒ¨åˆ†æ–‡å­—æ·»åŠ åˆ é™¤çº¿ï¼ˆä¸­åˆ’çº¿ï¼‰ã€‚

- TypefaceSpanï¼šè®¾ç½®æ–‡æœ¬çš„å­—ä½“ã€‚

- TextAppearanceSpanï¼šä½¿ç”¨ style æ¥å®šä¹‰æ–‡æœ¬æ ·å¼ï¼ŒåŒ…æ‹¬å­—ä½“ã€å¤§å°ã€æ ·å¼å’Œé¢œè‰²ã€‚

- AbsoluteSizeSpanï¼šè®¾ç½®æ–‡æœ¬çš„ç»å¯¹å¤§å°ï¼ˆå­—ä½“å¤§å°ï¼‰ã€‚

- RelativeSizeSpanï¼šè®¾ç½®æ–‡æœ¬çš„ç›¸å¯¹å¤§å°ï¼ˆç›¸å¯¹äºé»˜è®¤å­—ä½“å¤§å°ï¼‰ã€‚

- StyleSpanï¼šè®¾ç½®æ–‡æœ¬çš„å­—ä½“æ ·å¼ï¼Œå¦‚ç²—ä½“ã€æ–œä½“ç­‰ã€‚

- ClickableSpanï¼šä½¿æ–‡æœ¬éƒ¨åˆ†å¯ç‚¹å‡»ï¼Œå¹¶å¯ä»¥å®šä¹‰ç‚¹å‡»äº‹ä»¶ã€‚

- URLSpanï¼šå°†æ–‡æœ¬éƒ¨åˆ†è®¾ç½®ä¸ºè¶…é“¾æ¥ï¼Œç‚¹å‡»æ—¶æ‰“å¼€ URLã€‚

- MaskFilterSpanï¼šä¸ºæ–‡æœ¬æ·»åŠ è£…é¥°æ•ˆæœï¼Œå¦‚æ¨¡ç³Šï¼ˆBlurMaskFilterï¼‰æˆ–æµ®é›•ï¼ˆEmbossMaskFilterï¼‰ã€‚

- ImageSpanï¼šåœ¨æ–‡æœ¬ä¸­æ’å…¥å›¾ç‰‡ã€‚

- ScaleXSpanï¼šåŸºäº X è½´ç¼©æ”¾æ–‡æœ¬ã€‚

- SubscriptSpanï¼šè®¾ç½®ä¸‹æ ‡æ–‡æœ¬ï¼ˆæ•°å­¦å…¬å¼ä¸­å¸¸ç”¨ï¼‰ã€‚

- SuperscriptSpanï¼šè®¾ç½®ä¸Šæ ‡æ–‡æœ¬ï¼ˆæ•°å­¦å…¬å¼ä¸­å¸¸ç”¨ï¼‰ã€‚

- AlignmentSpan.Standardï¼šè®¾ç½®æ–‡æœ¬çš„å¯¹é½æ–¹å¼ï¼Œå¦‚å·¦å¯¹é½ã€å³å¯¹é½ã€å±…ä¸­å¯¹é½ç­‰ã€‚


ğŸ¨ æ ·å¼ç±»

- ForegroundColorSpanï¼šæ–‡å­—é¢œè‰²

- BackgroundColorSpanï¼šèƒŒæ™¯è‰²

- StyleSpanï¼šç²—ä½“ / æ–œä½“

- TypefaceSpanï¼šå­—ä½“

- UnderlineSpanï¼šä¸‹åˆ’çº¿

- StrikethroughSpanï¼šåˆ é™¤çº¿

ğŸ“ å¤§å° / å½¢æ€

- AbsoluteSizeSpanï¼šç»å¯¹å­—ä½“å¤§å°

- RelativeSizeSpanï¼šç›¸å¯¹å¤§å°

- ScaleXSpanï¼šX è½´ç¼©æ”¾

- SubscriptSpanï¼šä¸‹æ ‡

- SuperscriptSpanï¼šä¸Šæ ‡

ğŸ§­ è¡Œä¸º / åŠŸèƒ½

- ClickableSpanï¼šå¯ç‚¹å‡»æ–‡æœ¬

- URLSpanï¼šè¶…é“¾æ¥

- ImageSpanï¼šæ’å…¥å›¾ç‰‡

- AlignmentSpan.Standardï¼šå¯¹é½æ–¹å¼

- MaskFilterSpanï¼šæ¨¡ç³Š / æµ®é›•æ•ˆæœ